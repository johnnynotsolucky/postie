void 0===Craft.Postie&&(Craft.Postie={}),$((function(){$(document).on("change",".provider-shipping-methods-all-switch .lightswitch",(function(){var t=$(".provider-shipping-methods").find(".lightswitch");$(this).hasClass("on")?t.each((function(){$(this).data("lightswitch").turnOn()})):t.each((function(){$(this).data("lightswitch").turnOff()}))}))})),Craft.Postie.ProviderRatesTest=Garnish.Base.extend({init(){this.$result=$(".js-postie-rates-test-results"),this.$testBtn=$(".js-postie-rates-test-btn"),this.addListener(this.$testBtn,"click","runTest")},runTest(t){t.preventDefault();var s=$("#main-form").serialize();this.$testBtn.addClass("vui-loading"),this.$result.html(""),Craft.sendActionRequest("POST","postie/providers/test-rates",{data:s}).then((t=>{if(t.data.errors.length)throw new Error({response:{data:JSON.stringify(t.data.errors)}});var s=$('<div class="postie-rates-tester-table"></div>'),e=$("<ul></ul").appendTo(s);$.each(t.data.rates,(function(t,s){$('<li><span class="label">'+s.serviceName+"</span> <code>"+s.serviceCode+'</code> <span class="price">$'+s.rate+"</span></li>").appendTo(e)})),this.$result.html(s)})).catch((({response:t})=>{var s="<br><code>"+t.data.message+"</code>";this.$result.html('<span class="error">'+s+"</span>")})).finally((()=>{this.$testBtn.removeClass("vui-loading")}))}});
//# sourceMappingURL=postie.js.map